<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   viewBox="0 0 1000 480"
   version="1.1"
   id="svg47"
   sodipodi:docname="motorBVAE-architecture.svg"
   inkscape:export-filename="motorVAE-architecture.png"
   inkscape:export-xdpi="400"
   inkscape:export-ydpi="400"
   inkscape:version="1.3 (0e150ed, 2023-07-21)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview47"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="0.91625507"
     inkscape:cx="771.6192"
     inkscape:cy="256.4788"
     inkscape:window-width="1312"
     inkscape:window-height="449"
     inkscape:window-x="0"
     inkscape:window-y="37"
     inkscape:window-maximized="0"
     inkscape:current-layer="svg47" />
  <!-- Background -->
  <rect
     width="1000"
     height="480"
     fill="#f8f9fa"
     rx="10"
     ry="10"
     id="rect1" />
  <!-- Title -->
  <text
     x="500"
     y="30"
     font-family="Arial"
     font-size="22"
     text-anchor="middle"
     font-weight="bold"
     id="text1">Variational Autoencoder Architecture</text>
  <!-- Input Image -->
  <rect
     x="50"
     y="100"
     width="100"
     height="100"
     fill="#d1e7ff"
     stroke="#333"
     stroke-width="2"
     rx="5"
     ry="5"
     id="rect2" />
  <text
     x="100"
     y="155"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     font-weight="bold"
     id="text2">Input Image</text>
  <text
     x="100"
     y="175"
     font-family="Arial"
     font-size="12"
     text-anchor="middle"
     id="text3">256×256×1</text>
  <!-- Encoder Blocks -->
  <rect
     x="190"
     y="80"
     width="230"
     height="140"
     fill="#e2f0d9"
     stroke="#333"
     stroke-width="2"
     rx="5"
     ry="5"
     id="rect3" />
  <text
     x="305"
     y="100"
     font-family="Arial"
     font-size="16"
     text-anchor="middle"
     font-weight="bold"
     id="text4">Encoder</text>
  <!-- Encoder Conv Layers -->
  <rect
     x="200"
     y="110"
     width="40"
     height="40"
     fill="#b6d7a8"
     stroke="#333"
     stroke-width="1"
     rx="3"
     ry="3"
     id="rect4" />
  <text
     x="220"
     y="135"
     font-family="Arial"
     font-size="10"
     text-anchor="middle"
     id="text5">32</text>
  <rect
     x="245"
     y="110"
     width="40"
     height="40"
     fill="#b6d7a8"
     stroke="#333"
     stroke-width="1"
     rx="3"
     ry="3"
     id="rect5" />
  <text
     x="265"
     y="135"
     font-family="Arial"
     font-size="10"
     text-anchor="middle"
     id="text6">64</text>
  <rect
     x="290"
     y="110"
     width="40"
     height="40"
     fill="#b6d7a8"
     stroke="#333"
     stroke-width="1"
     rx="3"
     ry="3"
     id="rect6" />
  <text
     x="310"
     y="135"
     font-family="Arial"
     font-size="10"
     text-anchor="middle"
     id="text7">128</text>
  <rect
     x="335"
     y="110"
     width="40"
     height="40"
     fill="#b6d7a8"
     stroke="#333"
     stroke-width="1"
     rx="3"
     ry="3"
     id="rect7" />
  <text
     x="355"
     y="135"
     font-family="Arial"
     font-size="10"
     text-anchor="middle"
     id="text8">256</text>
  <rect
     x="380"
     y="110"
     width="30"
     height="40"
     fill="#b6d7a8"
     stroke="#333"
     stroke-width="1"
     rx="3"
     ry="3"
     id="rect8" />
  <text
     x="395"
     y="135"
     font-family="Arial"
     font-size="10"
     text-anchor="middle"
     id="text9">512</text>
  <text
     x="305"
     y="170"
     font-family="Arial"
     font-size="12"
     text-anchor="middle"
     id="text10">Conv2d + BatchNorm + LeakyReLU</text>
  <text
     x="305"
     y="190"
     font-family="Arial"
     font-size="10"
     text-anchor="middle"
     id="text11">Output: 8×8×512</text>
  <!-- Flattening -->
  <rect
     x="450"
     y="110"
     width="70"
     height="40"
     fill="#f5f5f5"
     stroke="#333"
     stroke-width="1"
     rx="3"
     ry="3"
     id="rect11" />
  <text
     x="485"
     y="127"
     font-family="Arial"
     font-size="10px"
     text-anchor="middle"
     id="text12">Flatten</text>
  <text
     x="485"
     y="142"
     font-family="Arial"
     font-size="10px"
     text-anchor="middle"
     id="text13">32,768</text>
  <!-- Latent Space -->
  <rect
     x="550"
     y="60"
     width="110"
     height="60"
     fill="#ffe6cc"
     stroke="#333"
     stroke-width="2"
     rx="5"
     ry="5"
     id="rect13" />
  <text
     x="605"
     y="80"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     font-weight="bold"
     id="text14">μ</text>
  <text
     x="605"
     y="100"
     font-family="Arial"
     font-size="12"
     text-anchor="middle"
     id="text15">Linear</text>
  <text
     x="605"
     y="115"
     font-family="Arial"
     font-size="10"
     text-anchor="middle"
     id="text16">128</text>
  <rect
     x="550"
     y="140"
     width="110"
     height="60"
     fill="#ffe6cc"
     stroke="#333"
     stroke-width="2"
     rx="5"
     ry="5"
     id="rect16" />
  <text
     x="605"
     y="160"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     font-weight="bold"
     id="text17">log σ²</text>
  <text
     x="605"
     y="180"
     font-family="Arial"
     font-size="12"
     text-anchor="middle"
     id="text18">Linear</text>
  <text
     x="605"
     y="195"
     font-family="Arial"
     font-size="10"
     text-anchor="middle"
     id="text19">128</text>
  <!-- Reparameterization -->
  <rect
     x="700"
     y="100"
     width="100"
     height="100"
     fill="#fff2cc"
     stroke="#333"
     stroke-width="2"
     rx="5"
     ry="5"
     id="rect19" />
  <text
     x="750"
     y="130"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     font-weight="bold"
     id="text20">z</text>
  <text
     x="750"
     y="150"
     font-family="Arial"
     font-size="12"
     text-anchor="middle"
     id="text21">Reparameterize</text>
  <text
     x="750"
     y="170"
     font-family="Arial"
     font-size="10"
     text-anchor="middle"
     id="text22">128</text>
  <!-- Decoder Start -->
  <rect
     x="550"
     y="270"
     width="110"
     height="60"
     fill="#d9d2e9"
     stroke="#333"
     stroke-width="2"
     rx="5"
     ry="5"
     id="rect22" />
  <text
     x="605"
     y="300"
     font-family="Arial"
     font-size="12"
     text-anchor="middle"
     id="text23">Linear + Reshape</text>
  <text
     x="605"
     y="320"
     font-family="Arial"
     font-size="10"
     text-anchor="middle"
     id="text24">8×8×512</text>
  <!-- Decoder Blocks -->
  <rect
     x="190"
     y="260"
     width="230"
     height="140"
     fill="#d5a6bd"
     stroke="#333"
     stroke-width="2"
     rx="5"
     ry="5"
     id="rect24" />
  <text
     x="305"
     y="280"
     font-family="Arial"
     font-size="16"
     text-anchor="middle"
     font-weight="bold"
     id="text25">Decoder</text>
  <!-- Decoder ConvTranspose Layers -->
  <rect
     x="380"
     y="300"
     width="30"
     height="40"
     fill="#c27ba0"
     stroke="#333"
     stroke-width="1"
     rx="3"
     ry="3"
     id="rect25" />
  <text
     x="395"
     y="325"
     font-family="Arial"
     font-size="10"
     text-anchor="middle"
     id="text26">512</text>
  <rect
     x="335"
     y="300"
     width="40"
     height="40"
     fill="#c27ba0"
     stroke="#333"
     stroke-width="1"
     rx="3"
     ry="3"
     id="rect26" />
  <text
     x="355"
     y="325"
     font-family="Arial"
     font-size="10"
     text-anchor="middle"
     id="text27">256</text>
  <rect
     x="290"
     y="300"
     width="40"
     height="40"
     fill="#c27ba0"
     stroke="#333"
     stroke-width="1"
     rx="3"
     ry="3"
     id="rect27" />
  <text
     x="310"
     y="325"
     font-family="Arial"
     font-size="10"
     text-anchor="middle"
     id="text28">128</text>
  <rect
     x="245"
     y="300"
     width="40"
     height="40"
     fill="#c27ba0"
     stroke="#333"
     stroke-width="1"
     rx="3"
     ry="3"
     id="rect28" />
  <text
     x="265"
     y="325"
     font-family="Arial"
     font-size="10"
     text-anchor="middle"
     id="text29">64</text>
  <rect
     x="200"
     y="300"
     width="40"
     height="40"
     fill="#c27ba0"
     stroke="#333"
     stroke-width="1"
     rx="3"
     ry="3"
     id="rect29" />
  <text
     x="220"
     y="325"
     font-family="Arial"
     font-size="10"
     text-anchor="middle"
     id="text30">32</text>
  <text
     x="329.48865"
     y="331.6095"
     font-family="Arial"
     font-size="11.0873px"
     text-anchor="middle"
     id="text31"
     transform="scale(0.92393859,1.082323)"
     style="stroke-width:0.923939">ConvTranspose2d + BatchNorm + LeakyReLU</text>
  <text
     x="305"
     y="380"
     font-family="Arial"
     font-size="10"
     text-anchor="middle"
     id="text32">Final Conv2d + Sigmoid</text>
  <!-- Output Image -->
  <rect
     x="50"
     y="280"
     width="100"
     height="100"
     fill="#d1e7ff"
     stroke="#333"
     stroke-width="2"
     rx="5"
     ry="5"
     id="rect32" />
  <text
     x="100"
     y="335"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     font-weight="bold"
     id="text33">Output Image</text>
  <text
     x="100"
     y="355"
     font-family="Arial"
     font-size="12"
     text-anchor="middle"
     id="text34">256×256×1</text>
  <!-- Arrows -->
  <!-- Input to Encoder -->
  <path
     d="M150,150 H190"
     stroke="#666"
     stroke-width="2"
     fill="none"
     marker-end="url(#arrowhead)"
     id="path34" />
  <!-- Encoder to Latent -->
  <path
     d="M420,130 H450"
     stroke="#666"
     stroke-width="2"
     fill="none"
     marker-end="url(#arrowhead)"
     id="path35" />
  <path
     d="M520,90 H550"
     stroke="#666"
     stroke-width="2"
     fill="none"
     marker-end="url(#arrowhead)"
     id="path36" />
  <path
     d="M520,170 H550"
     stroke="#666"
     stroke-width="2"
     fill="none"
     marker-end="url(#arrowhead)"
     id="path37" />
  <!-- Latent to Reparameterization -->
  <path
     d="M660,90 H680 Q690,90 690,100 V150 Q690,150 700,150"
     stroke="#666"
     stroke-width="2"
     fill="none"
     marker-end="url(#arrowhead)"
     id="path38" />
  <path
     d="M660,170 H680 Q690,170 690,170 V150 Q690,150 700,150"
     stroke="#666"
     stroke-width="2"
     fill="none"
     marker-end="url(#arrowhead)"
     id="path39" />
  <!-- Z to Decoder -->
  <path
     d="M750,200 V300 H660"
     stroke="#666"
     stroke-width="2"
     fill="none"
     marker-end="url(#arrowhead)"
     id="path40" />
  <!-- Decoder start to Decoder -->
  <path
     d="M550,300 H420"
     stroke="#666"
     stroke-width="2"
     fill="none"
     marker-end="url(#arrowhead)"
     id="path41" />
  <!-- Decoder to Output -->
  <path
     d="M190,320 H150"
     stroke="#666"
     stroke-width="2"
     fill="none"
     marker-end="url(#arrowhead)"
     id="path42" />
  <!-- Loss components -->
  <rect
     x="820"
     y="200"
     width="150"
     height="120"
     fill="#f9cb9c"
     stroke="#333"
     stroke-width="2"
     rx="5"
     ry="5"
     id="rect42" />
  <text
     x="895"
     y="220"
     font-family="Arial"
     font-size="16"
     text-anchor="middle"
     font-weight="bold"
     id="text42">Loss Function</text>
  <text
     x="895"
     y="245"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     id="text43">Reconstruction Loss</text>
  <text
     x="895"
     y="265"
     font-family="Arial"
     font-size="12"
     text-anchor="middle"
     id="text44">MSE(recon_x, x)</text>
  <text
     x="895"
     y="290"
     font-family="Arial"
     font-size="14"
     text-anchor="middle"
     id="text45">KL Divergence</text>
  <text
     x="895"
     y="310"
     font-family="Arial"
     font-size="12px"
     text-anchor="middle"
     id="text46">β<tspan
   style="font-size:65%;baseline-shift:sub"
   id="tspan1">1</tspan>=0.001 → β<tspan
   style="font-size:65%;baseline-shift:sub"
   id="tspan2">2</tspan>=0.05</text>
  <!-- Loss arrows -->
  <path
     d="M100,380 V430 H895 V320"
     stroke="#666"
     stroke-width="2"
     fill="none"
     stroke-dasharray="5,3"
     marker-end="url(#arrowhead)"
     id="path46" />
  <path
     d="M750,200 H830 V200"
     stroke="#666"
     stroke-width="2"
     fill="none"
     stroke-dasharray="5,3"
     marker-end="url(#arrowhead)"
     id="path47" />
  <!-- Arrowhead definition -->
  <defs
     id="defs47">
    <marker
       id="arrowhead"
       markerWidth="10"
       markerHeight="7"
       refX="9"
       refY="3.5"
       orient="auto">
      <polygon
         points="0 0, 10 3.5, 0 7"
         fill="#666"
         id="polygon47" />
    </marker>
  </defs>
</svg>
